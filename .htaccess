# Enabling of media types
<IfModule mod_mime.c>
    AddType image/svg+xml .svg .svgz
    AddType application/zip .zip
    AddType image/png .png
    AddType image/gif .gif
    AddType text/css .css
    AddType application/x-gzip .gz .gzip
    AddType image/x-icon .ico
    AddType image/jpeg .jpg .jpeg .jpe
    AddType application/json .json
    AddType video/mp4 .mp4 .m4v
    AddType application/pdf .pdf
    AddType application/vnd.ms-excel .xla .xls .xlsx .xlt .xlw
    AddHandler application/x-httpd-php .php .html
</IfModule>

# URL rewrite
<IfModule mod_rewrite.c>
    RewriteEngine On
    # Force HTTPS (exc WWW)
    RewriteCond %{HTTPS} off [OR]
    RewriteCond %{HTTP_HOST} ^www\.chriswatterston\.com [NC]
    RewriteRule ^(.*)$ https://www.chriswatterston.com/$1 [L,R=301]
    # Default
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    # Bespoke
    RewriteRule ^work/case-study/(.*) /case-study.php?work=$1 [L]
    RewriteRule ^article/(.*) /article.php?article=$1 [L]
    # Default
    RewriteCond %{REQUEST_FILENAME}.php -f
    RewriteRule (.*) $1.php [L]
</IfModule>

# Block robots from index files
<FilesMatch "robots.txt">
    Header set X-Robots-Tag "noindex"
</FilesMatch>
<FilesMatch ".(json|svg)$">
    Header set X-Robots-Tag "noindex, noarchive, nosnippet"
</FilesMatch>

# Redirects
# Redirect 301 /used-boats/boats-for-sale-eastbourne/ /used-boats/?office=5276